<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BananaPrep - Problem Details</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/problem.css">
</head>
<body>
  <!-- Sticky Header with Logo -->
  <header>
    <a href="home.html" class="logo">BananaPrep</a>
    <a href="database.html" class="back-link">‚Üê Back to Database</a>
  </header>
  
  <!-- Main Content: Problem details and solution tabs -->
  <main>
    <!-- Left Panel: Problem Statement -->
    <div class="problem-details">
      <div class="section">
        <h2 id="problemTitle">Loading Problem Title...</h2>
        <span id="problemStatus" class="problem-status status-unsolved">Unsolved</span>
        <p id="problemDescription">Loading Problem Description...</p>
        
        <!-- Problem Image -->
        <figure class="problem-image" id="problemImageContainer">
          <!-- Image will be inserted here -->
        </figure>
      </div>
      <div class="section">
        <h2>Examples</h2>
        <div id="problemExamples">
          <!-- Examples will be inserted here -->
        </div>
      </div>
      <div class="section">
        <h2>Constraints</h2>
        <ul id="problemConstraints">
          <!-- Constraints will be inserted here -->
        </ul>
      </div>
    </div>

    <!-- Right Panel: Solution Tabs for Answer and Code -->
    <div class="editor-section">
      <!-- Alert Messages -->
      <div class="alert alert-danger" id="errorAlert"></div>
      <div class="alert alert-success" id="successAlert"></div>
      
      <!-- Auth Prompt (shown when not logged in) -->
      <div class="auth-prompt" id="authPrompt" style="display: none;">
        <p>Sign in to save your progress and solutions.</p>
        <a href="login.html">Sign In / Sign Up</a>
      </div>
      
      <!-- Solution Tabs -->
      <div class="solution-tabs">
        <div class="tab active" id="answerTab">Submit Answer</div>
        <div class="tab" id="codeTab">Write Code</div>
      </div>
      
      <!-- Answer Input Section -->
      <div class="tab-content active" id="answerSection">
        <form class="answer-form" id="answerForm">
          <label for="userAnswer">Your Answer:</label>
          <input type="text" id="userAnswer" class="answer-input" placeholder="Enter your answer here" required>
          <div class="btn-spinner-container">
            <span class="spinner" id="answerSpinner"></span>
            <button type="submit" class="btn btn-success" id="submitAnswerBtn">Submit Answer</button>
          </div>
        </form>
        <div class="answer-feedback" id="answerFeedback"></div>
      </div>
      
      <!-- Code Editor Section -->
      <div class="tab-content" id="codeSection">
        <div class="btn-row">
          <div class="btn-spinner-container">
            <span class="spinner" id="runSpinner"></span>
            <button id="runBtn" class="btn">Run</button>
          </div>
          <div class="btn-spinner-container">
            <span class="spinner" id="submitSpinner"></span>
            <button id="submitBtn" class="btn btn-success">Submit</button>
          </div>
        </div>
        <div id="codeEditor" class="code-editor" contenteditable="true">
          MATLAB implementation coming soon...
<!-- % Write your MATLAB code here...
% For example:
% function result = solveProblem(input)
%   result = input * 2; % Sample operation
% end -->
        </div>
        <div class="output-section" id="matlabOutput">
          MATLAB output will appear here...
        </div>
      </div>
    </div>
  </main>

  <script src="js/api.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/problem.js"></script>
</body>
</html>